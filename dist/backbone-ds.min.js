!function(e){var n={},t={},o={};n.defineResource=function(e){var n;if(!e.collection)throw new Error("You must specify a collection when defining a resource");n=e.name,t[n]=e,o[n]||(o[n]=new e.collection)},n.createInstance=function(e){return new t[e].model},n.inject=function(e,n){o[e].add(n)},n.get=function(e,n){var r,c,i=t[e].idAttribute,u={};return c=o[e],c&&(u[i]=n,r=c.findWhere(u),!r)?null:null},n.getAll=function(e){return o[e]},n.ejectAll=function(e){var n=o[e];n&&n.reset()},n.removeResource=function(e){delete o[e]},e.DS=n}(window);